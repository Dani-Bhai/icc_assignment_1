@page "/architecture"

<PageTitle>PakPulse - System Architecture</PageTitle>

<section class="hero secondary">
    <div class="hero-container">
        <h2>System Architecture</h2>
        <p>Microservices-Based Cloud-Native Design</p>
    </div>
</section>

<main class="container">
    <div class="card enhanced">
        <div class="card-header enhanced">
            <span class="accent-bar primary"></span>
            <h3>Architecture Overview</h3>
        </div>
        <p class="text-large">
            PakPulse follows a <strong>microservices architecture</strong> pattern, where each core functionality is implemented as an independent service. This approach enables scalability, maintainability, and independent deployment of services. The system is built entirely on Microsoft Azure cloud infrastructure, leveraging various Azure services for compute, storage, messaging, and automation.
        </p>
        <div class="highlight-box">
            <p>
                <strong>Key Architectural Principle:</strong> Each microservice is independently deployable, scalable, and communicates with other services through Azure Service Bus for asynchronous messaging and REST APIs for synchronous communication.
            </p>
        </div>
    </div>


    <div class="card enhanced">
        <div class="card-header enhanced">
            <span class="accent-bar primary"></span>
            <h3>Enhanced System Flow Visualization</h3>
        </div>
        
        <!-- Modern Vertical Flow Diagram -->
        <div class="flow-diagram">
            <h4 style="text-align: center; margin-bottom: 2rem; color: #0f172a;">Complete System Data Flow</h4>
            
            <div class="flow-vertical">
                <div class="flow-vertical-step">
                    <div class="flow-box-modern">
                        User Interface (React/Next.js)
                    </div>
                    <div class="flow-label-modern">Web Application Access</div>
                </div>
                
                <div class="flow-vertical-step connector"></div>
                
                <div class="flow-vertical-step">
                    <div class="flow-box-modern secondary">
                        API Gateway & Load Balancer
                    </div>
                    <div class="flow-label-modern">Request Routing & Distribution</div>
                </div>
                
                <div class="flow-vertical-step connector"></div>
                
                <div class="flow-vertical-step">
                    <div class="flow-horizontal">
                        <div class="flow-box-modern accent">
                            User Service
                        </div>
                        <div class="flow-horizontal-arrow">⇄</div>
                        <div class="flow-box-modern purple">
                            Alert Service
                        </div>
                        <div class="flow-horizontal-arrow">⇄</div>
                        <div class="flow-box-modern green">
                            Post Service
                        </div>
                        <div class="flow-horizontal-arrow">⇄</div>
                        <div class="flow-box-modern blue">
                            Notification Service
                        </div>
                    </div>
                    <div class="flow-label-modern">Microservices Communication via Azure Service Bus</div>
                </div>
                
                <div class="flow-vertical-step connector"></div>
                
                <div class="flow-vertical-step">
                    <div class="flow-box-modern dark">
                        Data Layer (PostgreSQL + Blob Storage)
                    </div>
                    <div class="flow-label-modern">Persistent Storage & Media Repository</div>
                </div>
                
                <div class="flow-vertical-step connector"></div>
                
                <div class="flow-vertical-step">
                    <div class="flow-horizontal">
                        <div class="flow-box-modern accent">
                            Azure Functions
                        </div>
                        <div class="flow-horizontal-arrow">→</div>
                        <div class="flow-box-modern secondary">
                            External Data Sources
                        </div>
                    </div>
                    <div class="flow-label-modern">Automated Scraping Pipeline</div>
                </div>
            </div>
        </div>
        
        <!-- Real-time Notification Flow -->
        <div class="flow-diagram" style="margin-top: 2rem;">
            <h4 style="text-align: center; margin-bottom: 2rem; color: #0f172a;">Real-time Notification Flow</h4>
            
            <div class="flow-vertical">
                <div class="flow-vertical-step">
                    <div class="flow-box-modern">
                        Event Generation
                    </div>
                    <div class="flow-label-modern">Alert Created / Post Published</div>
                </div>
                
                <div class="flow-vertical-step connector"></div>
                
                <div class="flow-vertical-step">
                    <div class="flow-box-modern secondary">
                        Azure Service Bus
                    </div>
                    <div class="flow-label-modern">Message Queuing & Distribution</div>
                </div>
                
                <div class="flow-vertical-step connector"></div>
                
                <div class="flow-vertical-step">
                    <div class="flow-box-modern accent">
                        Notification Service
                    </div>
                    <div class="flow-label-modern">Processing & Personalization</div>
                </div>
                
                <div class="flow-vertical-step connector"></div>
                
                <div class="flow-vertical-step">
                    <div class="flow-box-modern purple">
                        WebSocket Connection
                    </div>
                    <div class="flow-label-modern">Real-time Delivery to Clients</div>
                </div>
                
                <div class="flow-vertical-step connector"></div>
                
                <div class="flow-vertical-step">
                    <div class="flow-box-modern green">
                        End User Device
                    </div>
                    <div class="flow-label-modern">Instant Notification Display</div>
                </div>
            </div>
        </div>
    </div>

    <div class="card enhanced">
        <div class="card-header enhanced">
            <span class="accent-bar accent"></span>
            <h3>Architectural Benefits</h3>
        </div>
        <div class="benefits-grid">
            <div class="benefit-card primary">
                <h4>Scalability</h4>
                <p>Each microservice can scale independently based on demand, ensuring optimal resource utilization</p>
            </div>
            <div class="benefit-card secondary">
                <h4>Reliability</h4>
                <p>Service isolation ensures that failure in one service doesn't affect others, improving overall system reliability</p>
            </div>
            <div class="benefit-card accent">
                <h4>Maintainability</h4>
                <p>Independent services allow teams to work on different features simultaneously without conflicts</p>
            </div>
            <div class="benefit-card purple">
                <h4>Performance</h4>
                <p>Golang microservices provide high performance and efficient concurrency for handling multiple requests</p>
            </div>
        </div>
    </div>
</main>
